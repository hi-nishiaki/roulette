(function(){"use strict";var t={7670:function(t,e,n){var i=n(5130),l=n(6768);function o(t,e,n,i,o,s){const a=(0,l.g2)("TopPage");return(0,l.uX)(),(0,l.Wv)(a,{onAdd:s.addList,"saved-list":o.savedList},null,8,["onAdd","saved-list"])}n(4114);const s=t=>((0,l.Qi)("data-v-0a3277d1"),t=t(),(0,l.jt)(),t),a={class:"main"},r={class:"header"},d={class:"first-rack"},u=s((()=>(0,l.Lk)("br",null,null,-1))),c=s((()=>(0,l.Lk)("div",{class:"pointer"},"▼",-1))),f={class:"circle"},p={class:"footer"};function h(t,e,n,i,o,s){const h=(0,l.g2)("PieChart"),L=(0,l.g2)("EditModal"),v=(0,l.g2)("SavedListModal");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",a,[(0,l.Lk)("div",r,[(0,l.Lk)("div",d,[(0,l.Lk)("button",{class:"edit",onClick:e[0]||(e[0]=(...t)=>s.openEditModal&&s.openEditModal(...t))},"抽選項目編集"),u])]),c,(0,l.Lk)("div",f,[(0,l.bF)(h,{chartData:s.pieData,options:s.options,plugins:s.plugins,id:"roulette"},null,8,["chartData","options","plugins"])]),(0,l.Lk)("div",p,[(0,l.Lk)("button",{class:"start",onClick:e[1]||(e[1]=(...t)=>s.startRotating&&s.startRotating(...t))},"スタート"),(0,l.Lk)("button",{class:"reset",onClick:e[2]||(e[2]=(...t)=>s.reset&&s.reset(...t))},"リセット")])]),o.editModal?((0,l.uX)(),(0,l.Wv)(L,{key:0,onClose:s.closeEditModal,onReflect:s.reflectList},null,8,["onClose","onReflect"])):(0,l.Q3)("",!0),o.listModal?((0,l.uX)(),(0,l.Wv)(v,{key:1,onClose:s.closeListModal,"saved-list":n.savedList},null,8,["onClose","saved-list"])):(0,l.Q3)("",!0)],64)}const L=t=>((0,l.Qi)("data-v-452c87e3"),t=t(),(0,l.jt)(),t),v={class:"modal-window"},k={class:"modal-content"},g={class:"list"},b=L((()=>(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{colspan:"5",class:"name"}),(0,l.Lk)("th",{colspan:"2",class:"delete"})])],-1))),m={colspan:"5"},C=["onUpdate:modelValue"],M={colspan:"2"},y=["onClick"];function w(t,e,n,o,s,a){return(0,l.uX)(),(0,l.Wv)(i.eB,{name:"modal",appear:""},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:"modal modal-overlay",onClick:e[2]||(e[2]=(0,i.D$)((e=>t.$emit("close")),["self"]))},[(0,l.Lk)("div",v,[(0,l.Lk)("div",k,[(0,l.Lk)("button",{class:"add",onClick:e[0]||(e[0]=(...t)=>a.addColumn&&a.addColumn(...t))},"追加"),(0,l.Lk)("button",{class:"update",onClick:e[1]||(e[1]=(...t)=>a.reflectList&&a.reflectList(...t))},"確定"),(0,l.Lk)("div",g,[(0,l.Lk)("table",null,[b,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.inputList,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",m,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>t.name=e},null,8,C),[[i.Jo,t.name]])]),(0,l.Lk)("td",M,[(0,l.Lk)("button",{class:"delete",onClick:e=>a.deleteColumn(t)},"削除",8,y)])])))),128))])])]),(0,l.RG)(t.$slots,"default",{},void 0,!0)])])])])),_:3})}var E={name:"editModal",data(){return{inputList:[],newList:{name:""}}},emits:["reflect"],methods:{addColumn:function(){this.inputList.length>=10?alert("登録は10項目までです。"):this.inputList.push({id:this.inputList.length,name:""})},deleteColumn:function(t){var e=this.inputList.indexOf(t);this.inputList.splice(e,1)},reflectList:function(){this.$emit("reflect",this.inputList)}}},$=n(1241);const O=(0,$.A)(E,[["render",w],["__scopeId","data-v-452c87e3"]]);var P=O,X=n(4232);const _=t=>((0,l.Qi)("data-v-5d8157a0"),t=t(),(0,l.jt)(),t),j={class:"modal-window"},x={class:"modal-content"},A=_((()=>(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{colspan:"7",class:"list"}),(0,l.Lk)("th",{colspan:"2",class:"action"})])],-1))),R={colspan:"7",class:"box"},I={colspan:"2"},D=["onClick"],F=_((()=>(0,l.Lk)("br",null,null,-1))),W=["onClick"];function K(t,e,n,o,s,a){return(0,l.uX)(),(0,l.Wv)(i.eB,{name:"modal",appear:""},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:"modal modal-overlay",onClick:e[0]||(e[0]=(0,i.D$)((e=>t.$emit("close")),["self"]))},[(0,l.Lk)("div",j,[(0,l.Lk)("div",x,[(0,l.Lk)("table",null,[A,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.savedList,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",R,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.column,(t=>((0,l.uX)(),(0,l.CE)("div",{key:t.id},(0,X.v_)(t.name),1)))),128))]),(0,l.Lk)("td",I,[(0,l.Lk)("button",{class:"reflect",onClick:e=>a.useList(t)},"反映",8,D),F,(0,l.Lk)("button",{class:"delete",onClick:e=>a.deleteList(t)},"削除",8,W)])])))),128))])]),(0,l.RG)(t.$slots,"default",{},void 0,!0)])])])])),_:3})}var Q={props:["savedList"],methods:{useList:function(t){this.$emit("use",t)},deleteList:function(t){this.$emit("delete",t)}}};const S=(0,$.A)(Q,[["render",K],["__scopeId","data-v-5d8157a0"]]);var T=S,B=n(6592),G=n(614),U=n(2921);B.t1.register(...B.$L);const V=["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"],z=[],J=[],q=[];var H={components:{EditModal:P,SavedListModal:T,PieChart:G.rW},computed:{pieData(){if(0===this.list.length)return this.defalutPie;if(this.list.length){for(var t in z.length=0,J.length=0,q.length=0,this.list)z.push(this.list[t].name),J.push(V[t]);const n=this.culcSplitRatio(z.length);for(var e in n)q.push(n[e]);return this.editListPie}return this.defalutPie},options(){return{plugins:{tooltip:{enabled:!1},legend:{labels:{fontColor:"black"},display:!1},datalabels:{color:"black",anchor:"center",font:{weight:"bold",size:25},formatter:(t,e)=>{let n=e.chart.data.labels[e.dataIndex];return n}}},animation:!1}},plugins(){return[U.A]},defalutPie(){return{labels:["","","","",""],datasets:[{data:[100,100,100,100,100],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(255, 99, 132)","rgb(54, 162, 235)"]}]}},editListPie(){return{labels:z,datasets:[{data:q,backgroundColor:J}]}}},data(){return{editModal:!1,listModal:!1,list:[]}},props:["savedList"],emits:["add"],methods:{openEditModal:function(){this.editModal=!0},closeEditModal:function(){this.editModal=!1},openListModal:function(){this.listModal=!0},closeListModal:function(){this.listModal=!1},reflectList:function(t){this.list=t,this.editModal=!1},addList:function(){this.$emit("add",this.list),this.list=[],alert("抽選項目を保存しました。")},startRotating:function(){const t=8e3,e=0,n=3600+7*Math.floor(361*Math.random());return new Promise((i=>{const l=new KeyframeEffect(document.getElementById("roulette"),[{transform:`rotate(${e}deg)`},{transform:`rotate(${n}deg)`}],{duration:t,easing:"ease-in-out",iterations:1,fill:"forwards"}),o=new Animation(l);o.play(),o.onfinish=()=>{i()}}))},culcSplitRatio:function(t){const e=[];for(let n=0;n<t;n++)e.push(100/t);return e},reset:function(){z.length=0,J.length=0,q.length=0}}};const N=(0,$.A)(H,[["render",h],["__scopeId","data-v-0a3277d1"]]);var Y=N;let Z=0;var tt={name:"App",components:{TopPage:Y},data(){return{savedList:[]}},methods:{addList:function(t){Z+=1,this.savedList.push({id:Z,column:t})}}};const et=(0,$.A)(tt,[["render",o]]);var nt=et;(0,i.Ef)(nt).mount("#app")}},e={};function n(i){var l=e[i];if(void 0!==l)return l.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,i,l,o){if(!i){var s=1/0;for(u=0;u<t.length;u++){i=t[u][0],l=t[u][1],o=t[u][2];for(var a=!0,r=0;r<i.length;r++)(!1&o||s>=o)&&Object.keys(n.O).every((function(t){return n.O[t](i[r])}))?i.splice(r--,1):(a=!1,o<s&&(s=o));if(a){t.splice(u--,1);var d=l();void 0!==d&&(e=d)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[i,l,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var l,o,s=i[0],a=i[1],r=i[2],d=0;if(s.some((function(e){return 0!==t[e]}))){for(l in a)n.o(a,l)&&(n.m[l]=a[l]);if(r)var u=r(n)}for(e&&e(i);d<s.length;d++)o=s[d],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},i=self["webpackChunkroulette"]=self["webpackChunkroulette"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],(function(){return n(7670)}));i=n.O(i)})();
//# sourceMappingURL=app.1ffeedf9.js.map